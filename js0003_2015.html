<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
	*{ padding:0px;margin:0px; }
	#erroInf{ display:none;color:red; }
  </style>
  <body>
<!--<input id='input'>-->
<textarea id="inputAre"></textarea>
<div id="erroInf">输入错误！</div>
    <button id="save">保存显示</button>
    <p id="show"></p>
	<script>
	/*
	第一阶段
	在页面中，有一个单行输入框，一个按钮，输入框中用来输入用户的兴趣爱好，允许用户用半角逗号来作为不同爱好的分隔。	当点击按钮时，把用户输入的兴趣爱好，按照上面所说的分隔符分开后保存到一个数组，过滤掉空的、重复的爱好，在按钮下方创建一个段落显示处理后的爱好。
	
	第二阶段	单行变成多行输入框，一个按钮，输入框中用来输入用户的兴趣爱好，允许用户用换行、空格（全角/半角）、逗号（全角/半角）、顿号、分号来作为不同爱好的分隔。
	当点击按钮时的行为同上
	
	第三阶段	用户输入的爱好数量不能超过10个，也不能什么都不输入。当发生异常时，在按钮上方显示一段红色的错误提示文字，并且不继续执行后面的行为；当输入正确时，提示文字消失。
	同时，当点击按钮时，不再是输出到一个段落，而是每一个爱好输出成为一个checkbox，爱好内容作为checkbox的label。
	*/
	</script>
    <script >
	
	/* 第一阶段
        var save = document.getElementById("save");
        save.onclick = function  () {
            var value = document.querySelector('.input').value;
            if(value.split(',')){
                var arr = value.split(',');
                var newArr = [];
                for(var i=0;i<arr.length;i++){
                    if(newArr.indexOf(arr[i]) === -1){
                        if(arr[i] !== ""){
                            newArr.push(arr[i]);
                        }
                    }
                }
            }
            var show = document.getElementById("show");
            show.innerText = newArr.toString();
        }
	*/
		
	/* 第二阶段
        var save = document.getElementById("save");
        save.onclick = function  () {
            var value = document.querySelector('.input').value; 
			if(value.split(',')){			
                var arr = value.split(/\n|\s+|\,|\，|\、|\;|\；/);
				if(arr.length < 10 && arr.length!=0){
                var newArr = [];
                for(var i=0;i<arr.length;i++){
                    if(newArr.indexOf(arr[i]) === -1){
                        if(arr[i] !== ""){
                            newArr.push(arr[i]);
                        }
                    }
                }
            }
            var show = document.getElementById("show");
            show.innerText = newArr.toString();
         }
	}		 
		
	*/
	
	/* 第三阶段
	*/
        var save = document.getElementById("save");
		var erroInf = document.getElementById("erroInf");
        save.onclick = function  () {
            var value = document.querySelector('#inputAre').value; 
			if(value.split(',')){			
                var arr = value.split(/\n|\s+|\,|\，|\、|\;|\；/);
				if(arr.length < 10 && arr.length!=0){
                var newArr = [];
                for(var i=0;i<arr.length;i++){
                    if(newArr.indexOf(arr[i]) === -1){
                        if(arr[i] !== ""){
                            newArr.push(arr[i]);
                        }
                    }
                }
            }
			else {
				erroInf.style.display = "block";
				document.getElementById("inputAre").readOnly = true;
				}
            var show = document.getElementById("show");
			for(var j=0;j<newArr.length;j++){
            show.innerHTML+= "<label>" + "<input type='checkbox'>" + newArr[j] + "</label>"
            }
         }
	}
	
    </script>
	</body>
</html>